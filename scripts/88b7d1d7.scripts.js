(function(){"use strict";angular.module("draftstoneApp",[])}).call(this),function(){"use strict";angular.module("draftstoneApp").controller("MainCtrl",["$scope","Classes","Cards",function(a,b,c){return b.then(function(b){return a.classes=b.data}),c.then(function(b){return a.cards=b.data}),a.getCommons=function(b){var c,d;return c=_.filter(a.cards[b.name],function(a){return"common"===a.quality||"free"===a.quality}),d=_.filter(a.cards.neutral,function(a){return"common"===a.quality||"free"===a.quality}),c.concat(d)},a.getRares=function(b){var c,d;return c=_.filter(a.cards[b.name],function(a){return"rare"===a.quality}),d=_.filter(a.cards.neutral,function(a){return"rare"===a.quality}),c.concat(d)},a.getEpics=function(b){var c,d;return c=_.filter(a.cards[b.name],function(a){return"epic"===a.quality}),d=_.filter(a.cards.neutral,function(a){return"epic"===a.quality}),c.concat(d)},a.getLegendaries=function(b){var c,d;return c=_.filter(a.cards[b.name],function(a){return"legendary"===a.quality}),d=_.filter(a.cards.neutral,function(a){return"legendary"===a.quality}),c.concat(d)},a.getRareSelections=function(){var b,c;return c=Math.random(),b=.05>c?a.legendaries:.2>c?a.epics:a.rares,_.sample(b,3)},a.getCommonSelections=function(){return _.sample(a.commons,3)},a.selectClass=function(b){return a.selectedClass=b,a.commons=a.getCommons(b),a.rares=a.getRares(b),a.epics=a.getEpics(b),a.legendaries=a.getLegendaries(b),a.setNewCardSelections(1)},a.selections={},a.numSelectedCards=function(){return Object.keys(a.selections).length},a.selectCard=function(b){return 30!==a.numSelectedCards()?(a.selections[b.id]?a.selections[b.id].count=a.selections[b.id].count+1:a.selections[b.id]={card:b,count:1},a.setNewCardSelections(a.numSelectedCards()+1)):void 0},a.newCardSelections=[],a.setNewCardSelections=function(b){return a.newCardSelections=1===b||10===b||20===b||30===b||Math.random()<.08?a.getRareSelections():a.getCommonSelections()},a.showMain=function(){return a.numSelectedCards()<30},a.reset=function(){return a.selectedClass=null,a.selections={}},a.getSelectionMana=function(a){return console.log("LSJDFKLJSDF"),a.card.mana}}])}.call(this),function(){"use strict";angular.module("draftstoneApp").service("Cards",["$http",function(a){return a({method:"GET",url:"data/cards.json"}).success(function(a){return a.body})}])}.call(this),function(){"use strict";angular.module("draftstoneApp").service("Classes",["$http",function(a){return a({method:"GET",url:"data/classes.json"}).success(function(a){return a.body})}])}.call(this);